env_def = Environment()
env_def['CPPFLAGS'] = '-Wall -Wno-deprecated'


env_addutil = env_def.Clone()
env_addutil.Append(CPPPATH = ['./include/libaddutil'])

name_addutil = 'lib/addutil'
files_addutil = Glob('src/libaddutil/*.cpp')

# env_addutil.Library(name_addutil, files_addutil)


env_matchcommon = env_addutil.Clone()
env_matchcommon.Append(CPPPATH = ['./include/matchcommon'])

name_matchcommon = 'lib/matchcommon'
files_matchcommon = Glob('src/matchcommon/*.cpp') + files_addutil
env_matchcommon.Library(name_matchcommon, files_matchcommon)


env_client = env_def.Clone()
env_client.Append(CPPPATH = ['./include/libaddutil'])
env_client.Append(CPPPATH = ['./include/matchcommon'])
env_client.Append(CPPPATH = ['./include/client'])
env_client.Append(LIBPATH = ['./lib'])

env_client.ParseConfig("pkg-config OGRE --cflags --libs")
env_client.ParseConfig("pkg-config CEGUI-OGRE --cflags --libs")
env_client.ParseConfig("pkg-config OIS --cflags --libs")
env_client.ParseConfig("pkg-config CEGUI --cflags --libs")
env_client['LIBS'] = ['boost_thread', 
                      'boost_system', 
                      'OgreMain', 
                      'CEGUIBase', 
                      'OIS', 
                      'CEGUIOgreRenderer', 
                      'matchcommon']

name_client = 'bin/client_ogre'
files_client = Glob('src/client/*.cpp')

env_client.Program(name_client, files_client)
